/*
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Nextflow config file for running minimal tests
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Defines input files and everything required to run a fast and simple pipeline test.

    Use as follows:
        nextflow run . -profile test

----------------------------------------------------------------------------------------
*/

params {
    config_profile_name        = 'Test profile'
    config_profile_description = 'Minimimal profile tests'

    max_cpus   = 2
    max_memory = '8.GB'
    max_time   = '1.h'
    max_jobs   = 2

    input  = "https://raw.githubusercontent.com/phac-nml/pangwas/refs/heads/main/data/test/samplesheet.csv"
    outdir = "results/test"
    trait  = "resistant"
    variants_to_plot = "significant"

    extract_args = "--min-len 10"
    snps_args    = "--core 0.75 --indel-window 3 --snp-window 3"
    tree_args    = "-safe -m MFP --ufboot 1000 --alrt 1000 --seed 123456 -o sample1"
    heatmap_args = "--tree-width 100"

    // Pre-computed intermediates
    // tree     = "${projectDir}/../data/test/tree.nwk"
    // variants = "${projectDir}/../data/test/variants.Rtab"
    // clusters = "${projectDir}/../data/test/clusters.tsv"
}
